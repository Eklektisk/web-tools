Web-Tools
====================

This contains all of the shell scripts I use to modify my website. This
includes creating/modifying templates, adding pages, and updating my
blog.

This setup is currently configured for:
* Handling static HTML files
* A one-template website (working on fixing this issue)
* Basic blog system
  * Index page
  * RSS feed
  * Standalone post pages

These scripts are meant to provide a basis for you to hack onto to suit
your needs. While you can create a fully functioning site without
modifying them, it may not be to your liking.

Note that the default editor is currently set to neovim. If you want to
use a different editor, see Customizing and Hacking.

An example setup is available in the examples folder. This folder can be
deleted at anytime.

## Setup ##
There are two setup scripts provided:
* `setup` will create the core folders and files
* `setup_rss` will create the core files and folders for a blog system

## Creating a website ##
### Layout ###
The workspace is currently divided into four folders.

#### Templates ####
The templates folder contains all website templates. Templates ending in
\_testing.html will generate test pages that can be viewed locally.
Templates ending in \_production.html will generate pages to be uploaded
to your server. These pages may not properly display when viewed
locally.

#### Pages ####
The pages folder contains all content for the website. This only
includes page-specific information. This content will later be inserted
into your templates. Tabbing is automatically handled, so there is no
need to manually indent anything.

#### Testing ####
The testing folder contains templated web pages that can be viewed
locally. This takes content from your pages folder and inserts it into
the testing template. This is useful for checking how a page looks
before publishing it.

#### Production ####
The production folder contains templated web pages to be uploaded to the
server. This takes content from your pages folder and inserts it into
the production template. This also contains all auto-generated content
that typically does not need to modified (ie. rss.xml). These files may
not display properly if viewed locally.

### Scripts ###
There are four general-purpose scripts and two scripts that aid post
generation for blogs.

#### gen\_page ####
Usage:
```bash
./gen_page <page/html_file> <template/your_template> (title)
```
This uses the supplied template to create a page in the appropritate
folder. This will also generate any necessary directories in the
appropriate folder if applicable. If a title is supplied, it will be
appended to the title tag with a pipe.

#### unsafe\_gen\_page ####
Usage:
```bash
./unsafe_gen_page <page/html_file> <template/your_template> (title)
```
This functions the same as `gen_page`. However, it assumes that the
title, if provided, already escapes all necessary characters. Do not use
this unless you know what are doing.

#### copy ####
Usage:
```bash
./copy <page/other_file> [testing|production|both]
```
This copies files directly from the pages folder to the chosen folder(s)
without applying a template.

#### update\_website ####
Usage:
```bash
./update_website
```
This recreates all pages present in the testing and/or production
folders according to their respective templates. Useful if you decide to
modify any pages or templates and don't want to manually update each
page.

#### mkpost ####
Usage:
```bash
./mkpost
```
This uses the supplied title to generate an html file under pages/posts.
The filename is generated by lowercasing all letters and replacing all
non-alphanumeric characters with underscores. The generated header
replaces quotes, angle brackets, and ampersands with their respective
HTMLcodes.

#### push\_post ####
Usage:
```bash
./push_post <pages/post/*>
```
This provides a wrapper for `gen_page` that pushes blog posts to the
production folder. This also gives the option to update the blog index
and the RSS feed.

## Customizing and Hacking ##
All scripts provided are fairly small. As long as you have a basic
understanding of bash/shell commands and chains, the scripts should be
easy to read (with `push_post` being the longest at 79 lines).

### Creating New Templates ###
Templates must be marked as \_testing.html or as \_production.html in
order for `gen_page` to determine where to place the final page.
All templates must have the following comment at some point:
```html
<!-- wt -->
```
When generating pages, this comment will be replaced with the page's
content.

### Choosing a Different Editor ###
`mkpost` attempts to open your default editor, as set by your `$EDITOR`
and `$VISUAL` environment variables.  If neither are set, it will
instead attempt to run `vim`. If you would rather use neither but do not
want to change your environment variables, replace `exec $EDITOR` with
`exec <your preferred editor>`

### Creating a standalone RSS feed ###
`push_post` separates updating the blog page and updating the RSS feed
into two separate functions. If you want an RSS feed but not a blog,
just remove `add_to_blog $1` from the bottom of the script.

## Additional Help or Contributing ##
If anything in the README or in a script is unclear, feel free to open
an issue or make a pull request! I'm not always concise and sometimes
get too wrapped up in the specifics that I fail to properly explain the
basics.

Any contributions or ideas are appreciated! While I want to leave this
as a basic set of scripts for others to hack onto, I at least want to
provide a functional set of scripts that work out of the box.

## To Do List
* Enable multiple templates
* Add comments and usage messages to scripts
* Add support for rolling blog page
* Add support for multiple RSS feeds

